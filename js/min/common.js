"use strict";!function(i){var t={position:"top",time_limits:[3,5,10,20,30,60],word_limits:[75,150,250,500,1667],char_limits:[200,400,700,1500,5e3],extra_fonts:[["","Auto"],["ja","日"],["zh","中"],["ko","韓"],["th","ไทย"]],type:"timed",font:"",limit:5,hidden:!1,hardcore:!1};i.fn.write_button=function(a){var e=i.extend({},t,a),n=i(this);n.each(function(){var t=i(this),a=t.attr("href").split("?")[0],n=i("<div class='write_button_wrap'></div>");t.hasClass("btn-small")&&n.addClass("small"),t.wrapAll(n);var s="",l="",r="",o="";for(var d in e.time_limits){var c="timed"===e.type&&e.limit===e.time_limits[d]?"checked":"";s+="<input "+c+" class='select_time' id='radio"+d+"' type='radio' name='time' value='"+e.time_limits[d]+"min' /><label for='radio"+d+"'>"+e.time_limits[d]+"</label>\n"}for(var m in e.word_limits){var h="words"===e.type&&e.limit===e.word_limits[m]?"checked":"";l+="<input "+h+" class='select_time' id='radio"+(m+e.time_limits.length)+"' type='radio' name='time' value='"+e.word_limits[m]+"words' /><label for='radio"+(m+e.time_limits.length)+"'>"+String(e.word_limits[m]).replace("000","k")+"</label>\n"}for(var f in e.char_limits){var c="characters"===e.type&&e.limit===e.char_limits[f]?"checked":"";r+="<input "+h+" class='select_time' id='radio"+(f+e.time_limits.length+e.word_limits.length)+"' type='radio' name='time' value='"+e.char_limits[f]+"characters' /><label for='radio"+(f+e.time_limits.length+e.word_limits.length)+"'>"+String(e.char_limits[f]).replace("000","k")+"</label>\n"}for(var p in e.extra_fonts){var v=e.font===e.extra_fonts[p][0]?"checked":"";o+="<input "+v+" class='select_font' id='radio"+(p+e.time_limits.length+e.word_limits.length+e.char_limits.length)+"' type='radio' name='font' value='"+e.extra_fonts[p][0]+"' /><label for='radio"+(p+e.time_limits.length+e.word_limits.length+e.char_limits.length)+"'>"+String(e.extra_fonts[p][1])+"</label>\n"}var u=i('\n      <div class="session_chooser '+(e.hidden?"hidden":"")+'">\n            <div class="full '+e.type+'" style="display: none;">\n                <div class="tabs">\n                    <span class="timed">Minutes</span> / <span class="words">Words</span>\n / <span class="chars">Characters</span>\n                </div>\n                <div class="tab-timed">\n                    <div class="radios">\n                        '+s+'\n                    </div>\n                </div>\n                <div class="tab-words">\n                    <div class="radios">\n                        '+l+'\n                    </div>\n                </div>\n                <div class="tab-chars">\n                    <div class="radios">\n                        '+r+'\n                    </div>\n                </div>\n                <div class="tab-hardcore">\n                  <input type="checkbox" name="hardcore-check" id="hardcore-check" /><label for="hardcore-check">Hardcore mode</label>\n                </div>\n		<div class="tab-extrafonts">\n                <span class="font"> Font:</span> '+o+'\n                </div>\n            </div>\n            <div class="compact">\n                Session length: <span class="choice">'+e.limit+" "+("timed"==e.type?"minutes":"words")+'</span> <i class="edit icon-pencil"></i>\n            </div>\n      </div>\n      ');t.parent().prepend(u),e.hidden&&t.on("mouseenter",function(){u.fadeIn()});var b=function(){var i=u.find("input[class=select_time]:checked").val(),e=u.find("#hardcore-check")[0].checked?"&hardcore=true":"",n=""==u.find("input[class=select_font]:checked").val()?"":"&font="+u.find("input[class=select_font]:checked").val();t.attr("href",a+"?limit="+i+e+n)};u.find("input").on("change",b),u.find(".tabs .words").bind("click",function(){i(this).parents(".full").removeClass("timed").removeClass("chars").addClass("words")}),u.find(".tabs .timed").bind("click",function(){i(this).parents(".full").removeClass("words").removeClass("chars").addClass("timed")}),u.find(".tabs .chars").bind("click",function(){i(this).parents(".full").removeClass("timed").removeClass("chars").addClass("chars")}),u.find(".compact").bind("click",function(){i(this).hide(),i(this).parents(".session_chooser").find(".full").show()})})}}(window.jQuery),!function(i){var t={position:"top",animationTime:500,easing:"ease-in-out",offset:20,hidePlaceholderOnFocus:!0};i.fn.animateLabel=function(t){var a=0,e=0;i(this).css({left:"auto",right:"auto",position:"absolute","-webkit-transition":"all "+t.animationTime+"ms "+t.easing,"-moz-transition":"all "+t.animationTime+"ms "+t.easing,"-ms-transition":"all "+t.animationTime+"ms "+t.easing,transition:"all "+t.animationTime+"ms "+t.easing}),a=0,e=-1*(i(this).height()+t.offset),i(this).css({top:"0",opacity:"1","font-size":"60%","-webkit-transform":"translate3d("+a+", "+e+"px, 0)","-moz-transform":"translate3d("+a+", "+e+"px, 0)","-ms-transform":"translate3d("+a+", "+e+"px, 0)",transform:"translate3d("+a+", "+e+"px, 0)"})},i.fn.removeAnimate=function(){var t=0,a=0;i(this).css({top:"0",opacity:"0","font-size":"100%","-webkit-transform":"translate3d("+t+", "+a+"px, 0)","-moz-transform":"translate3d("+t+", "+a+"px, 0)","-ms-transform":"translate3d("+t+", "+a+"px, 0)",transform:"translate3d("+t+", "+a+"px, 0)"})},i.fn.label_better=function(a){var e=i.extend({},t,a),n=i(this),s="focus",l="blur";"bounce"==e.easing&&(e.easing="cubic-bezier(0.175, 0.885, 0.420, 1.310)"),n.each(function(){var t=i(this),a=t.data("position")||e.position;if(t.wrapAll("<div class='lb_wrap' style='position:relative; display: inline;'></div>"),t.val().length>0){var n=t.data("new-placeholder")||t.attr("placeholder");i("<div class='lb_label "+a+"'>"+n+"</div>").css("opacity","0").insertAfter(t).animateLabel(e,t)}t.bind(s,function(){if(t.val().length<1){var a=t.data("new-placeholder")||t.attr("placeholder"),n=t.data("position")||e.position;i("<div class='lb_label "+n+"'>"+a+"</div>").css("opacity","0").insertAfter(t).animateLabel(e,t)}1==e.hidePlaceholderOnFocus&&(t.data("default-placeholder",t.attr("placeholder")),t.attr("placeholder","")),t.parent().find(".lb_label").addClass("active")}).bind(l,function(){t.val().length<1&&t.parent().find(".lb_label").bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){i(this).remove()}).removeAnimate(e,t),1==e.hidePlaceholderOnFocus&&(t.attr("placeholder",t.data("default-placeholder")),t.data("default-placeholder","")),t.parent().find(".lb_label").removeClass("active")})})}}(window.jQuery),jQuery.fn.focus_end=function(){return this.each(function(){var i=$(this),t=this;i.is(":focus")||i.focus(),t.setSelectionRange?!function(){var a=2*i.val().length;setTimeout(function(){t.setSelectionRange(a,a)},1)}():i.val(i.val()),this.scrollTop=999999})};