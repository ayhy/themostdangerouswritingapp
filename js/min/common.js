"use strict";!function(i){var a={position:"top",time_limits:[3,5,10,20,30,60],word_limits:[75,150,250,500,1667],char_limits:[200,400,700,1500,5e3],type:"timed",limit:5,hidden:!1,hardcore:!1};i.fn.write_button=function(t){var n=i.extend({},a,t),e=i(this);e.each(function(){var a=i(this),t=a.attr("href").split("?")[0],e=i("<div class='write_button_wrap'></div>");a.hasClass("btn-small")&&e.addClass("small"),a.wrapAll(e);var s="",l="",r="";for(var o in n.time_limits){var d="timed"===n.type&&n.limit===n.time_limits[o]?"checked":"";s+="<input "+d+" class='select_time' id='radio"+o+"' type='radio' name='time' value='"+n.time_limits[o]+"min' /><label for='radio"+o+"'>"+n.time_limits[o]+"</label>\n"}for(var c in n.word_limits){var m="words"===n.type&&n.limit===n.word_limits[c]?"checked":"";l+="<input "+m+" class='select_time' id='radio"+(c+n.time_limits.length)+"' type='radio' name='time' value='"+n.word_limits[c]+"words' /><label for='radio"+(c+n.time_limits.length)+"'>"+String(n.word_limits[c]).replace("000","k")+"</label>\n"}for(var h in n.char_limits){"characters"===n.type&&n.limit===n.char_limits[h]?"checked":"";r+="<input "+m+" class='select_time' id='radio"+(h+n.time_limits.length+n.word_limits.length)+"' type='radio' name='time' value='"+n.char_limits[h]+"characters' /><label for='radio"+(h+n.time_limits.length+n.word_limits.length)+"'>"+String(n.char_limits[h]).replace("000","k")+"</label>\n"}var p=i('\n      <div class="session_chooser '+(n.hidden?"hidden":"")+'">\n\n            <div class="full '+n.type+'" style="display: none;">\n\n                <div class="tabs">\n\n                    <span class="timed">Minutes</span> / <span class="words">Words</span>\n / <span class="chars">Characters</span>\n\n                </div>\n\n                <div class="tab-timed">\n\n                    <div class="radios">\n\n                        '+s+'\n\n                    </div>\n\n                </div>\n\n                <div class="tab-words">\n\n                    <div class="radios">\n\n                        '+l+'\n\n                    </div>\n\n                </div>\n\n                <div class="tab-chars">\n\n                    <div class="radios">\n\n                        '+r+'\n\n                    </div>\n\n                </div>\n\n                <div class="tab-hardcore">\n\n                  <input type="checkbox" name="hardcore-check" id="hardcore-check" /><label for="hardcore-check">Hardcore mode</label>\n\n                </div>\n\n            </div>\n\n            <div class="compact">\n\n                Session length: <span class="choice">'+n.limit+" "+("timed"==n.type?"minutes":"words")+'</span> <i class="edit icon-pencil"></i>\n\n            </div>\n\n      </div>\n\n      ');a.parent().prepend(p),n.hidden&&a.on("mouseenter",function(){p.fadeIn()});var f=function(){var i=p.find("input[type=radio]:checked").val(),n=p.find("#hardcore-check")[0].checked?"&hardcore=true":"";a.attr("href",t+"?limit="+i+n)};p.find("input").on("change",f),p.find(".tabs .words").bind("click",function(){i(this).parents(".full").removeClass("timed").removeClass("chars").addClass("words")}),p.find(".tabs .timed").bind("click",function(){i(this).parents(".full").removeClass("words").removeClass("chars").addClass("timed")}),p.find(".tabs .chars").bind("click",function(){i(this).parents(".full").removeClass("timed").removeClass("chars").addClass("chars")}),p.find(".compact").bind("click",function(){i(this).hide(),i(this).parents(".session_chooser").find(".full").show()})})}}(window.jQuery),!function(i){var a={position:"top",animationTime:500,easing:"ease-in-out",offset:20,hidePlaceholderOnFocus:!0};i.fn.animateLabel=function(a){var t=0,n=0;i(this).css({left:"auto",right:"auto",position:"absolute","-webkit-transition":"all "+a.animationTime+"ms "+a.easing,"-moz-transition":"all "+a.animationTime+"ms "+a.easing,"-ms-transition":"all "+a.animationTime+"ms "+a.easing,transition:"all "+a.animationTime+"ms "+a.easing}),t=0,n=-1*(i(this).height()+a.offset),i(this).css({top:"0",opacity:"1","font-size":"60%","-webkit-transform":"translate3d("+t+", "+n+"px, 0)","-moz-transform":"translate3d("+t+", "+n+"px, 0)","-ms-transform":"translate3d("+t+", "+n+"px, 0)",transform:"translate3d("+t+", "+n+"px, 0)"})},i.fn.removeAnimate=function(){var a=0,t=0;i(this).css({top:"0",opacity:"0","font-size":"100%","-webkit-transform":"translate3d("+a+", "+t+"px, 0)","-moz-transform":"translate3d("+a+", "+t+"px, 0)","-ms-transform":"translate3d("+a+", "+t+"px, 0)",transform:"translate3d("+a+", "+t+"px, 0)"})},i.fn.label_better=function(t){var n=i.extend({},a,t),e=i(this),s="focus",l="blur";"bounce"==n.easing&&(n.easing="cubic-bezier(0.175, 0.885, 0.420, 1.310)"),e.each(function(){var a=i(this),t=a.data("position")||n.position;if(a.wrapAll("<div class='lb_wrap' style='position:relative; display: inline;'></div>"),a.val().length>0){var e=a.data("new-placeholder")||a.attr("placeholder");i("<div class='lb_label "+t+"'>"+e+"</div>").css("opacity","0").insertAfter(a).animateLabel(n,a)}a.bind(s,function(){if(a.val().length<1){var t=a.data("new-placeholder")||a.attr("placeholder"),e=a.data("position")||n.position;i("<div class='lb_label "+e+"'>"+t+"</div>").css("opacity","0").insertAfter(a).animateLabel(n,a)}1==n.hidePlaceholderOnFocus&&(a.data("default-placeholder",a.attr("placeholder")),a.attr("placeholder","")),a.parent().find(".lb_label").addClass("active")}).bind(l,function(){a.val().length<1&&a.parent().find(".lb_label").bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){i(this).remove()}).removeAnimate(n,a),1==n.hidePlaceholderOnFocus&&(a.attr("placeholder",a.data("default-placeholder")),a.data("default-placeholder","")),a.parent().find(".lb_label").removeClass("active")})})}}(window.jQuery),jQuery.fn.focus_end=function(){return this.each(function(){var i=$(this),a=this;i.is(":focus")||i.focus(),a.setSelectionRange?!function(){var t=2*i.val().length;setTimeout(function(){a.setSelectionRange(t,t)},1)}():i.val(i.val()),this.scrollTop=999999})};